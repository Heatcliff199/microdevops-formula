{% 
set cloudflare_ip_range = {
  'ipv4': { 
    'CF1':      '173.245.48.0/20',
    'CF2':      '103.21.244.0/22',
    'CF3':      '103.22.200.0/22',
    'CF4':      '103.31.4.0/22',
    'CF5':      '141.101.64.0/18',
    'CF6':      '108.162.192.0/18',
    'CF7':      '190.93.240.0/20',
    'CF8':      '188.114.96.0/20',
    'CF9':      '197.234.240.0/22',
    'CF10':     '198.41.128.0/17',
    'CF11':     '162.158.0.0/15',
    'CF12':     '104.16.0.0/12',
    'CF13':     '172.64.0.0/13',
    'CF14':     '131.0.72.0/22',
  }
}
%}

ufw_simple:
  enabled: True
  logging: 'off'
  allow:
    http_https_cf:
      proto: 'tcp'
      from:
        {{ cloudflare_ip_range['ipv4'] }}
      to_port: '80,443'
